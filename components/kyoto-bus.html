<link rel="import" href="/bower_components/polymer/polymer.html">

<link rel="import" href="/bower_components/core-ajax/core-ajax.html">
<link rel="import" href="/bower_components/core-icons/maps-icons.html">
<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">

<polymer-element name="kyoto-bus" attributes="number destination locationurl timetableurl">
<template>
<style>
.container {
	height: 84px;
	max-width:640px;
	border-bottom: 1px solid #ccc;
}
.number {
	position:absolute; left:0;
	width:48px; height: 84px;
	background:#0d47a1;
	font-size:20px; color:#fff; font-weight:bold;
	text-align:center;
	line-height: 84px;
}	
.main {	position:absolute; left:48px; right:48px; }
.destination h3 {
		margin:0; margin-left:0.5em;
		font-weight:normal; font-size:18px;
}
.position { text-align:center; height:40px; } 
.arrow { padding: 8px 0; }
.pos { background:#e0e0e0; border-radius:20px; }
.position .active { background:#b2ff59; color:#fff; }
.pos-label { position:absolute; left:50%; width:184px; margin-left:-92px;}
.pos-label div { width:40px; height: 10px; font-size:10px; position:relative; float:left; text-align:center; }
.pos-label .pos-label-pad { width:32px; }
.timetable {
	position:absolute; right:0;
	width:48px; height:84px;
	font-size:20px; color:#616161;
	text-align:center;
}
.timetable paper-icon-button {
	margin-top: 22px;
}
</style>
	
	<div class="container">
		<div class="number">{{number}}</div>
		<div class="main">
			<div class="destination">
				<h3>{{destination}}</h3>
			</div>
			<div class="position">
					<paper-icon-button class="pos" id="pos1" icon="" disabled></paper-icon-button>	
					<paper-icon-button class="arrow" icon="arrow-back" disabled></paper-icon-button>	
					<paper-icon-button class="pos active" id="pos2" icon="maps:directions-bus" disabled></paper-icon-button>	
					<paper-icon-button class="arrow" icon="arrow-back" disabled></paper-icon-button>	
					<paper-icon-button class="pos" id="pos3" icon="" disabled></paper-icon-button>
			</div>
					<div class="pos-label">
						<div>1つ前</div>
						<div class="pos-label-pad"> </div>
						<div>3つ前</div>
						<div class="pos-label-pad"> </div>
						<div>5つ前</div>
					</div>
			</div>
		<div class="timetable">
			<paper-icon-button icon="schedule" title="時刻表" on-click="{{showTimetable}}"></paper-icon-button>
		</div>
	</div>

	<core-ajax
		auto
		url="/blclnt"
		params='{"line": "009.100-170.60.12-175.60.12-171.60.12-172.61.12"}'
		handleAs="text"
		on-core-response="{{getAjax}}">
	</core-ajax>
</template>


<script>
	Polymer({
		ready: function() {},
		getAjax: function(e, res) {
			console.log(res); 
		}
	});
</script>
</polymer-element>
